<br>
<br>
<div class="container-fluid p-4">
	<div class="row">
		<div class="col-md-10 offset-md-1">
			<div class="card">
				<div class="card-header">
					<div class="row">
						<div class="col-md-9">
							<h1>Welcome to Campaign Manager Dashboard</h1>
						</div>
						<div class="col-md-3">
							<button class="btn btn-primary" data-toggle="modal" data-target="#createRuleModal">Add New Rule</button>
							<button class="btn btn-success btn-space" (click)="logout()" routerLink="/login">Logout</button>
						</div>
						<!-- <div class="col-md-1">
							
						</div> -->
					</div>
				</div>
			</div>
		</div>
	</div>

	<br>
	<br>
	<div class="row">
		<div class="col-md-10 offset-md-1">
			<div class="row">
				<div class="col-md-12">
					<div class="table-responsive">
						<table class="table table-striped">
							<thead class="thead-dark">
								<tr>
									<th>Rule Name</th>
									<th>Campaign</th>
									<th>Rule Schedule</th>
									<th>Rule Status</th>
									<th>Action</th>
								</tr>
							</thead>
							<tbody>
								<tr *ngFor="let rule of rules">
									<th>{{rule.ruleName}}</th>
									<th>{{rule.campaignName}}</th>
									<th>{{rule.schedule}}</th>
									<th>{{rule.status}}</th>
									<th><button type="button" class="btn btn-dark" data-toggle="modal" data-target="#createRuleModal" (click)="edit(rule._id)">Edit</button></th>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div> 
	</div>	

	<!-- Create Rule Modal -->
	<div class="modal fade" id="createRuleModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
	aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header text-center">
					<h1 class="modal-title modal-head">Add Rule</h1>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="clear()">
					  <span aria-hidden="true">&times;</span>
					</button>
				</div>
				<form>
					<div class="modal-body mx-3">
						<div class="md-form">
							<label for="ruleName">Rule Name</label>
							<input type="text" name="ruleName" id="ruleName" class="form-control validate" [(ngModel)]="create.ruleName">
						</div>
						<div class="md-form">
							<label for="campaignName">Campaigns</label>
							<select class="form-control" id="campaignName" name="campaignName" [(ngModel)]="create.campaignName">
								<option value="1">1</option>
								<option value="2">2</option>
								<option value="3">3</option>
								<option value="4">4</option>
								<option value="5">5</option>
							</select>
						</div>
						<div class="md-form">
							<label for="schedule">Schedule</label>
							<input type="text" name="schedule" id="schedule" class="form-control validate" [(ngModel)]="create.schedule">
						</div>
						<div class="md-form">
							<div class="row">
								<div class="col-md-2">
									<label for="cond1" class="md-2">cond1</label>
									<select class="form-control" id="cond1" name="cond1" [(ngModel)]="create.cond1">
										<option value="spend">Spend</option>
										<option value="impression">Impression</option>
									</select>
								</div>
								<div class="col-md-2">
									<label for="symb1">symb1</label>
									<select class="form-control" id="symb1" name="symb1" [(ngModel)]="create.symb1">
										<option value="gte"> >= </option>
										<option value="lte"> <= </option>
									</select>
								</div>
								<div class="col-md-2">
									<label for="val1">val1</label>
									<input type="text" name="val1" id="val1" class="form-control validate" [(ngModel)]="create.val1">
								</div>
								<div class="col-md-2">
									<label for="cond2">cond2</label>
									<select class="form-control" id="cond2" name="cond1" [(ngModel)]="create.cond2">
										<option value="spend">Spend</option>
										<option value="impression">Impression</option>
									</select>
								</div>
								<div class="col-md-2">
									<label for="symb2">symb2</label>
									<select class="form-control" id="symb2" name="symb2" [(ngModel)]="create.symb2">
										<option value="gte"> >= </option>
										<option value="lte"> <= </option>
									</select>
								</div>
								<div class="col-md-2">
									<label for="val2">val2</label>
									<input type="text" name="val2" id="val2" class="form-control validate" [(ngModel)]="create.val2">
								</div>
							</div>
						</div>
						<div class="md-form">
							<label for="action">Actions</label>
							<select class="form-control" id="action" name="action" [(ngModel)]="create.action">
								<option value="start">Start</option>
								<option value="pause">Pause</option>
							</select>
						</div>
						<div class="md-form">
							<label for="status">Status</label>
							<select class="form-control" id="status" name="status" [(ngModel)]="create.status">
								<option value="activated">Activated</option>
								<option value="deactivated">Deactivated</option>
							</select>
						</div>

					</div>
				</form>
				<div class="modal-footer d-flex justify-content-center">
					<button class="btn btn-success" (click)="onSubmit(create)">Save Rule</button>
				</div>
			</div>
		</div>
	</div>
	<!-- Create Rule Modal ends -->

</div>